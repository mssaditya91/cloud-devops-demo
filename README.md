# Cloud DevOps Automation Project

## 📌 Overview
A full-stack application showcasing end-to-end DevOps practices:
- **Infrastructure**: AWS EKS cluster provisioned with Terraform
- **Configuration Management**: Ansible for EKS node setup (e.g., Prometheus Node Exporter)
- **CI/CD**: GitHub Actions for automated builds and deployments
- **Application**: Node.js backend, React frontend, NGINX reverse proxy
- **Monitoring**: Prometheus for metrics
- **Orchestration**: Kubernetes for container management

## 🚀 Quick Start
1. **Set up GitHub Secrets**:
   - `AWS_ACCESS_KEY_ID`: AWS access key
   - `AWS_SECRET_ACCESS_KEY`: AWS secret key
   - `AWS_REGION`: AWS region (e.g., us-east-1)
   - `CLUSTER_NAME`: EKS cluster name (e.g., devops-demo-cluster)
   - `DOCKERHUB_USERNAME`: Your DockerHub username
   - `DOCKERHUB_TOKEN`: DockerHub access token
   - `SSH_PRIVATE_KEY`: SSH key for Ansible to access EKS nodes

2. **Customize configurations** (optional):
   - Edit `infrastructure/aws-eks/terraform.tfvars` for Terraform variables (e.g., region, cluster name).
   - Edit `docker/versions.yml` for Docker image versions and ports.
   - Edit `ansible/roles/node_setup/defaults/main.yml` for Ansible package versions.

3. **Deploy infrastructure**:
   ```bash
   cd infrastructure/aws-eks
   terraform init
   terraform apply -var-file=terraform.tfvars
   ```

4. **Push code to GitHub** to trigger CI/CD:
   ```bash
   git add .
   git commit -m "Deploy full-stack app"
   git push
   ```

5. **Verify deployment**:
   ```bash
   ./verify.sh
   ```

## 🛠️ Technologies
| Category            | Tools                         |
|---------------------|-------------------------------|
| Cloud               | AWS EKS, EC2, VPC, IAM        |
| IaC                 | Terraform                     |
| Configuration       | Ansible                       |
| Orchestration       | Kubernetes, Kustomize         |
| CI/CD               | GitHub Actions                |
| Monitoring          | Prometheus, Node Exporter     |
| Container           | Docker                        |

## 📂 Project Structure
```
cloud-devops-demo/
├── infrastructure/  # Terraform code for EKS
├── ansible/         # Ansible playbooks for node configuration
├── kubernetes/      # Kubernetes manifests
├── docker/          # Dockerfiles for services
├── .github/         # CI/CD workflows
├── verify.sh        # Verification script
└── README.md
```

## 📸 Demo
- Access the app via the NGINX service's external IP:
  ```bash
  kubectl get svc nginx-service
  ```
- Monitor metrics at `prometheus-service:9090` (port-forward locally if needed).

## 📝 Notes
- **Terraform**: Customize `terraform.tfvars` or use `TF_VAR_` environment variables (e.g., `TF_VAR_aws_region`).
- **Ansible**: Populate `ansible/inventory.yml` with EKS node IPs (auto-generated by CI/CD) and ensure SSH access.
- **Kubernetes**: Use `kustomize build kubernetes/app | sed 's/DOCKERHUB_USERNAME/your-username/' | kubectl apply -f -` for manual deployment.
- **Docker**: Images are built and pushed to DockerHub under your username.
- Ensure AWS credentials have permissions for EKS, EC2, VPC, IAM, and ECR.

## 🛡️ Security
- Store sensitive data (e.g., AWS keys, SSH keys) in GitHub Secrets.
- Restrict SSH access to EKS nodes to trusted IPs.
